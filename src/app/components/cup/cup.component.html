<div class="cup-container">
    <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" class="cup-svg">
        <defs>
            <!-- Inner cup shape -->
            <clipPath id="cupInterior" clipPathUnits="userSpaceOnUse">
                <path d="M60 55
                Q60 120 65 135
                Q68 145 75 150
                Q85 155 100 155
                Q115 155 125 150
                Q132 145 135 135
                Q140 120 140 55
                Z" />
            </clipPath>

            <!-- Liquid level controlled via CSS variable -->
            <clipPath id="liquidClip" clipPathUnits="userSpaceOnUse">
                <rect id="liquid-level" x="0" width="200" [attr.height]="cupHeight" [attr.y]="liquidY" />
            </clipPath>

            <linearGradient id="cupGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#FEFEFE" />
                <stop offset="50%" stop-color="#FFFFFF" />
                <stop offset="100%" stop-color="#F8F8F8" />
            </linearGradient>
        </defs>

        <!-- Cup fill behind liquid -->
        <path fill="url(#cupGradient)" stroke="none" d="M60 55
        Q60 120 65 135
        Q68 145 75 150
        Q85 155 100 155
        Q115 155 125 150
        Q132 145 135 135
        Q140 120 140 55
        Z" />

        <!-- Liquid -->
        <g clip-path="url(#cupInterior)">
            <g clip-path="url(#liquidClip)">
                <path class="liquid" d="M58 50
            Q58 120 63 135
            Q66 145 73 150
            Q83 156 100 156
            Q117 156 127 150
            Q134 145 137 135
            Q142 120 142 50
            Z" />
                <ellipse cx="100" cy="55" rx="40" ry="4" class="highlight" />
            </g>
        </g>

        <!-- Cup outline above liquid -->
        <path class="cup-outline" d="M60 55
        Q60 120 65 135
        Q68 145 75 150
        Q85 155 100 155
        Q115 155 125 150
        Q132 145 135 135
        Q140 120 140 55
        Z" />

        <!-- Rim -->
        <ellipse cx="100" cy="55" rx="40" ry="6" fill="url(#cupGradient)" stroke="var(--cup-color)" stroke-width="2" />

        <ellipse cx="100" cy="56" rx="37" ry="5" class="shadow" />

        <!-- Shadows & Highlights -->
        <path class="shadow" d="M60 55 Q60 120 65 135 Q67 142 72 147 Q75 150 78 151 Q70 145 67 135 Q62 120 62 55 Z" />
        <path class="highlight"
            d="M138 55 Q138 120 133 135 Q131 142 128 147 Q125 150 122 151 Q130 145 133 135 Q138 120 138 55 Z" />
        <ellipse cx="100" cy="153" rx="15" ry="3" class="shadow" />

        <!-- Handle -->
        <path fill="url(#cupGradient)" stroke="var(--cup-color)" stroke-width="2" d="M140 75
        C140 75 142 74 144 74
        C153 74 162 80 164 92
        C166 104 164 116 156 124
        C152 128 146 130 142 130
        C140 130 140 128 140 128
        L142 126
        C144 126 148 125 152 121
        C158 115 160 105 158 95
        C156 85 150 79 144 78
        C142 78 141 79 141 79
        Z" />

        <path class="shadow"
            d="M144 78 C150 79 156 85 158 95 C160 105 158 115 152 121 C149 124 145 125 143 126 L143 79 Z" />
        <path class="highlight"
            d="M141 79 C141 79 142 78 144 78 C146 78 148 79 150 80 L150 120 C148 121 146 122 144 122 L141 120 Z" />
    </svg>
</div>